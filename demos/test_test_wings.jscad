// File         : test_wings.jscad
// Objects      : 1
// Exported from: Wings 3D 2.2.5
function polyhedronTri(source){
  let triangles = source.polygons.reduce(
      function (arr, p) {
        if (p.length == 3) {
          arr.push(p);
        } else {
          arr.push([p[0],p[1],p[2]],[p[2],p[3],p[0]]);
        }
        return arr;
      }, []);

  return polyhedron({points: source.points, triangles:triangles});
}

function main(){
  let v = volume()[0];
  let l = 125;
  let t = translate([-l/2, -l/2, -1.5], cube({size:[l, l, 3], center:false}));  

  let r = v.intersect(t);

  return r;
}

function volume() {
  return [
	// Torus1.default
	color([0.7898538076923077,0.8133333333333334,0.6940444444444445], 
	    polyhedronTri(
		{ points: [
			[62.500000000,-2.263504855,-8.833204224],
			[58.838834765,-2.263504855,-15.073421568],
			[50.000000000,-2.263504855,-17.658204224],
			[41.161165235,-2.263504855,-15.073421568],
			[37.500000000,-2.263504855,-8.833204224],
			[41.161165235,-2.263504855,-2.592986880],
			[50.000000000,-2.263504855,-0.008204224],
			[58.838834765,-2.263504855,-2.592986880],
			[57.742470782,-19.149411308,-8.833204224],
			[54.359995156,-18.160257809,-15.073421568],
			[46.193976626,-15.772230017,-17.658204224],
			[38.027958095,-13.384202225,-15.073421568],
			[34.645482469,-12.395048727,-8.833204224],
			[38.027958095,-13.384202225,-2.592986880],
			[46.193976626,-15.772230017,-0.008204224],
			[54.359995156,-18.160257809,-2.592986880],
			[44.194173824,-33.464591575,0.000000000],
			[41.605339059,-31.636874231,-6.240217344],
			[35.355339059,-27.224374231,-8.825000000],
			[29.105339059,-22.811874231,-6.240217344],
			[26.516504294,-20.984156887,0.000000000],
			[29.105339059,-22.811874231,6.240217344],
			[35.355339059,-27.224374231,8.825000000],
			[41.605339059,-31.636874231,6.240217344],
			[23.917714523,-43.029689227,0.000000000],
			[22.516647244,-40.641661435,-6.240217344],
			[19.134171618,-34.876452352,-8.825000000],
			[15.751695992,-29.111243270,-6.240217344],
			[14.350628714,-26.723215478,0.000000000],
			[15.751695992,-29.111243270,6.240217344],
			[19.134171618,-34.876452352,8.825000000],
			[22.516647244,-40.641661435,6.240217344],
			[0.000000000,-62.500000000,0.000000000],
			[0.000000000,-58.838834765,-8.838834765],
			[0.000000000,-50.000000000,-12.500000000],
			[0.000000000,-41.161165235,-8.838834765],
			[0.000000000,-37.500000000,0.000000000],
			[0.000000000,-41.161165235,8.838834765],
			[0.000000000,-50.000000000,12.500000000],
			[0.000000000,-58.838834765,8.838834765],
			[-23.917714523,-57.742470782,0.000000000],
			[-22.516647244,-54.359995156,-8.838834765],
			[-19.134171618,-46.193976626,-12.500000000],
			[-15.751695992,-38.027958095,-8.838834765],
			[-14.350628714,-34.645482469,0.000000000],
			[-15.751695992,-38.027958095,10.059223177],
			[-19.134171618,-46.193976626,10.059223177],
			[-22.516647244,-54.359995156,10.059223177],
			[-44.194173824,-44.194173824,0.000000000],
			[-41.605339059,-41.605339059,-8.838834765],
			[-35.355339059,-35.355339059,-12.500000000],
			[-29.105339059,-29.105339059,-8.838834765],
			[-26.516504294,-26.516504294,0.000000000],
			[-29.105339059,-29.105339059,10.059223177],
			[-35.355339059,-35.355339059,10.059223177],
			[-41.605339059,-41.605339059,10.059223177],
			[-53.324663744,-13.042540159,0.000000000],
			[-51.065170026,-12.106627217,-8.838834765],
			[-45.610269648,-9.847133499,-12.500000000],
			[-40.155369269,-7.587639781,-8.838834765],
			[-37.895875551,-6.651726839,-0.000000000],
			[-40.155369269,-7.587639781,10.059223177],
			[-45.610269648,-9.847133499,10.059223177],
			[-51.065170026,-12.106627217,10.059223177],
			[-56.502693262,2.934493142,-0.000000000],
			[-54.057034885,2.934493142,-8.838834765],
			[-48.152693262,2.934493142,-12.500000000],
			[-42.248351639,2.934493142,-8.838834765],
			[-39.802693262,2.934493142,-0.000000000],
			[-42.248351639,2.934493142,10.059223177],
			[-48.152693262,2.934493142,10.059223177],
			[-54.057034885,2.934493142,10.059223177],
			[-53.324663744,18.911526443,-0.000000000],
			[-51.065170026,17.975613501,-8.838834765],
			[-45.610269648,15.716119783,-12.500000000],
			[-40.155369269,13.456626065,-8.838834765],
			[-37.895875551,12.520713123,-0.000000000],
			[-40.155369269,13.456626065,10.059223177],
			[-45.610269648,15.716119783,10.059223177],
			[-51.065170026,17.975613501,10.059223177],
			[-44.274401376,32.456201256,-0.000000000],
			[-42.545059753,30.726859634,-8.838834765],
			[-38.370059753,26.551859634,-12.500000000],
			[-34.195059753,22.376859634,-8.838834765],
			[-32.465718130,20.647518011,-0.000000000],
			[-34.195059753,22.376859634,10.059223177],
			[-38.370059753,26.551859634,10.059223177],
			[-42.545059753,30.726859634,10.059223177],
			[-23.917714523,57.742470782,-0.000000000],
			[-22.516647244,54.359995156,-8.838834765],
			[-19.134171618,46.193976626,-12.500000000],
			[-15.751695992,38.027958095,-8.838834765],
			[-14.350628714,34.645482469,-0.000000000],
			[-15.751695992,38.027958095,10.059223177],
			[-19.134171618,46.193976626,10.059223177],
			[-22.516647244,54.359995156,10.059223177],
			[-0.000000000,62.500000000,-0.000000000],
			[-0.000000000,58.838834765,-8.838834765],
			[-0.000000000,50.000000000,-12.500000000],
			[-0.000000000,41.161165235,-8.838834765],
			[-0.000000000,37.500000000,-0.000000000],
			[-0.000000000,41.161165235,8.838834765],
			[-0.000000000,50.000000000,12.500000000],
			[-0.000000000,58.838834765,8.838834765],
			[23.917714523,57.742470782,-0.000000000],
			[22.516647244,54.359995156,-8.838834765],
			[19.134171618,46.193976626,-12.500000000],
			[15.751695992,38.027958095,-8.838834765],
			[14.350628714,34.645482469,-0.000000000],
			[15.751695992,38.027958095,8.838834765],
			[19.134171618,46.193976626,12.500000000],
			[22.516647244,54.359995156,8.838834765],
			[44.194173824,28.937581865,-0.000000000],
			[41.605339059,27.109864521,-6.240217344],
			[35.355339059,22.697364521,-8.825000000],
			[29.105339059,18.284864521,-6.240217344],
			[26.516504294,16.457147177,-0.000000000],
			[29.105339059,18.284864521,6.240217344],
			[35.355339059,22.697364521,8.825000000],
			[41.605339059,27.109864521,6.240217344],
			[57.742470782,14.622401598,-8.833204224],
			[54.359995156,13.633248100,-15.073421568],
			[46.193976626,11.245220308,-17.658204224],
			[38.027958095,8.857192516,-15.073421568],
			[34.645482469,7.868039017,-8.833204224],
			[38.027958095,8.857192516,-2.592986880],
			[46.193976626,11.245220308,-0.008204224],
			[54.359995156,13.633248100,-2.592986880]
			],
		  polygons: [
			[1,9,8,0],
			[7,127,120,0],
			[2,10,9,1],
			[0,120,121,1],
			[3,11,10,2],
			[1,121,122,2],
			[4,12,11,3],
			[2,122,123,3],
			[5,13,12,4],
			[3,123,124,4],
			[6,14,13,5],
			[4,124,125,5],
			[7,15,14,6],
			[5,125,126,6],
			[0,8,15,7],
			[6,126,127,7],
			[9,17,16,8],
			[10,18,17,9],
			[11,19,18,10],
			[12,20,19,11],
			[13,21,20,12],
			[14,22,21,13],
			[15,23,22,14],
			[8,16,23,15],
			[17,25,24,16],
			[18,26,25,17],
			[19,27,26,18],
			[20,28,27,19],
			[21,29,28,20],
			[22,30,29,21],
			[23,31,30,22],
			[16,24,31,23],
			[25,33,32,24],
			[26,34,33,25],
			[27,35,34,26],
			[28,36,35,27],
			[29,37,36,28],
			[30,38,37,29],
			[31,39,38,30],
			[24,32,39,31],
			[33,41,40,32],
			[34,42,41,33],
			[35,43,42,34],
			[36,44,43,35],
			[37,45,44,36],
			[38,46,45,37],
			[39,47,46,38],
			[32,40,47,39],
			[41,49,48,40],
			[42,50,49,41],
			[43,51,50,42],
			[44,52,51,43],
			[45,53,52,44],
			[46,54,53,45],
			[47,55,54,46],
			[40,48,55,47],
			[49,57,56,48],
			[50,58,57,49],
			[51,59,58,50],
			[52,60,59,51],
			[53,61,60,52],
			[54,62,61,53],
			[55,63,62,54],
			[48,56,63,55],
			[57,65,64,56],
			[58,66,65,57],
			[59,67,66,58],
			[60,68,67,59],
			[61,69,68,60],
			[62,70,69,61],
			[63,71,70,62],
			[56,64,71,63],
			[65,73,72,64],
			[66,74,73,65],
			[67,75,74,66],
			[68,76,75,67],
			[69,77,76,68],
			[70,78,77,69],
			[71,79,78,70],
			[64,72,79,71],
			[73,81,80,72],
			[74,82,81,73],
			[75,83,82,74],
			[76,84,83,75],
			[77,85,84,76],
			[78,86,85,77],
			[79,87,86,78],
			[72,80,87,79],
			[81,89,88,80],
			[82,90,89,81],
			[83,91,90,82],
			[84,92,91,83],
			[85,93,92,84],
			[86,94,93,85],
			[87,95,94,86],
			[80,88,95,87],
			[89,97,96,88],
			[90,98,97,89],
			[91,99,98,90],
			[92,100,99,91],
			[93,101,100,92],
			[94,102,101,93],
			[95,103,102,94],
			[88,96,103,95],
			[97,105,104,96],
			[98,106,105,97],
			[99,107,106,98],
			[100,108,107,99],
			[101,109,108,100],
			[102,110,109,101],
			[103,111,110,102],
			[96,104,111,103],
			[105,113,112,104],
			[106,114,113,105],
			[107,115,114,106],
			[108,116,115,107],
			[109,117,116,108],
			[110,118,117,109],
			[111,119,118,110],
			[104,112,119,111],
			[113,121,120,112],
			[114,122,121,113],
			[115,123,122,114],
			[116,124,123,115],
			[117,125,124,116],
			[118,126,125,117],
			[119,127,126,118],
			[112,120,127,119]
			]
		}
	    )
	)
    ];
}
